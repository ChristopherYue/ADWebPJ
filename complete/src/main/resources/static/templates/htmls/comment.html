<link rel="stylesheet" href="../css/item.css"></link>
<link rel="stylesheet" href="../css/iteminfo.css"></link>
<link rel="stylesheet" href="../css/comment.css"></link>


<script type="text/javascript">
var down=false;
var x,y,imgID;
var str="";
function sendTag(comment,kind,left,top) {
	console.log(comment+" "+kind+" "+left+" "+top);
	/*var JsonSEND = JSON.stringify(  {"comment":comment},
	                                {"kind":kind},
	                                {"left":left},
	                                {"top":top},
	                                {"itemName":itemName}
	                               );  
 	$.ajax({
 		type:"POST",
 		contentType : 'application/json',
 		url:"sendTag",
 		dataType:"json",
 		data:JsonSEND,
 	    success : function(data) {  
 	  		console.log(data);
 	  		JsonGET=data;
 		   var itemList=new Array();
 			 for(var i=0,l=JsonGET.length;i<l;i++){  
 			 	   var tmp={};
 			 	   tmp["x"]=JsonGET[i]["latitude"];
 			 	   tmp["y"]=JsonGET[i]["longitude"];	 			 
 			 	   itemList.push(tmp); 			 	   
 			 	 }
 			locationList.push(itemList);
 			var index=locationList.length-1;
 			setLocation(locationList[index],index);
 	     },  
 	    error : function() {  
      		alert('Err...');  
 	    }
 	});*/
}
var iconList={};
function dragImage(obj){
	console.log(iconList[obj.id]);
if (iconList[obj.id]!=1)
{
iconList[obj.id]=1;
imgID = obj;
str="";
x = event.x - parseInt(imgID.style.left);
y = event.y - parseInt(imgID.style.top);
down=true;
}
}
function dragImage2(obj){
	console.log(iconList[obj.id]);
	if (iconList[obj.id]!=1)
	{
		
	imgID = obj;
    str=document.getElementById("inputText").value;
	x = event.x - parseInt(imgID.style.left);
	y = event.y - parseInt(imgID.style.top);
	if (str.length>0)
	{down=true;iconList[obj.id]=1;}
	//obj.append('<img  class="dragImg" src="imgs/icon1.png"  style="position:absolute;left:0px;top:0px" onMouseDown="dragImage(this)">')
}
}
function cancelDrag(){
	if (down) {
	down=false;
	if (str.length!="") sendTag(imgID.id+str,"3",imgID.style.left,imgID.style.top);
	else sendTag(imgID.id.substr(0,imgID.id.length-1),imgID.id.substr(imgID.id.length-1,1),imgID.style.left,imgID.style.top);
	}
}	


//alert(imgID.style.left+" "+imgID.style.top)};
function moveImage(){
if(down){
  imgID.style.left  = event.x-x ;
  imgID.style.top   = event.y-y ;
  event.returnValue = false;
}
}



document.onmousemove = moveImage;
document.onmouseup = cancelDrag;

</script>

<div class="panel panel-default" id="itemdiv">
	<nav class="navbar navbar-default" role="navigation">
		<div>
			<p class="navbar-text">随评</p>
		</div>
		<div class="navbar-header" id="itemname">
			<a class="navbar-brand">许哲纶</a>
		</div>
		<div>
			<ul class="nav navbar-nav pull-right">
				<li><a id="switch1">活动类型</a></li>
				<li><a id="switch2">场景类型</a></li>
				<li><a id="switch3">建议</a></li>
				<li class="dropdown"><a class="dropdown-toggle"
					data-toggle="dropdown"> 调查问卷 <b class="caret"></b>
				</a>
					<div class="dropdown-menu" style="padding: 20px; width: 500px">
						<form>
							<label for="name">请问该景点分类是否正确</label>
							<div>
								<label class="checkbox-inline"> <input type="radio"
									name="optionsRadios" id="optionsRadios1" value="option1"
									checked> 是
								</label> <label class="checkbox-inline"> <input type="radio"
									name="optionsRadios" id="optionsRadios2" value="option2"
									checked> 否
								</label>
							</div>
							<label for="name">请问您对该节点是否满意</label>
							<div>
								<label class="checkbox-inline"> <input type="radio"
									name="optionsRadiosinline" id="optionsRadios1" value="option1"
									checked> 非常满意
								</label> <label class="checkbox-inline"> <input type="radio"
									name="optionsRadiosinline" id="optionsRadios2" value="option2"
									checked> 比较满意
								</label> <label class="checkbox-inline"> <input type="radio"
									name="optionsRadiosinline" id="optionsRadios3" value="option3">
									不太满意
								</label> <label class="checkbox-inline"> <input type="radio"
									name="optionsRadiosinline" id="optionsRadios4" value="option4">
									很不满意
								</label>
							</div>
							<button type="submit" class="btn btn-default"
								style="margin-top: 10px">提交</button>
						</form>
					</div></li>
			</ul>
		</div>
	</nav>
	

	<div class="container-fluid" style="margin-bottom: 50px">
		<div class="row-fluid well">
			<div class="span12">
			<div style="margin-bottom:15px">
			<ul class="list-unstyled list-inline lis" id="lis1">
				<li class="text-center well" style="height:50px;">
				   <div id="运动1"  style="position:absolute;left:140px;top:144px;"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 运动 </div>
					</div>
				</li>
				<li  class="text-center well" style="height:50px;">
					   <div id="健身1" style="position:absolute;left:280px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 健身 </div>
					</div>
				  </li>
				<li class="text-center well" style="height:50px;">
				   <div  id="交往1" style="position:absolute;left:420px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 交往 </div>
					</div>
				</li>
				<li class="text-center well" style="height:50px;">
				   <div id="观赏1"  style="position:absolute;left:560px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 观赏</div>
					</div>
				</li>
				<li class="text-center well" style="height:50px;">
				   <div id="休憩1"  style="position:absolute;left:700px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 休憩</div>
					</div>
				</li>
			</ul>
			<ul class="list-unstyled list-inline lis" id="lis2">
				<li  class="text-center well" style="height:50px;">
				  <div id="亲近自然2" style="position:absolute;left:140px;top:144px;"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 亲近自然</div>
				 </div>
				</li>
				<li  class="text-center well" style="height:50px;">
				  <div id="健身锻炼2" style="position:absolute;left:280px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 健身锻炼</div>
					</div>
				</li>
				<li  class="text-center well" style="height:50px;">
				   <div id="聚会交友2" style="position:absolute;left:420px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 聚会交友</div>
					</div>
				</li>
			   <li class="text-center well" style="height:50px;">
				   <div  id="美的体验2" style="position:absolute;left:560px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 美的体验</div>
					</div>
				</li>
				<li class="text-center well" style="height:50px;">
				   <div id="观赏学习2"  style="position:absolute;left:700px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 观赏学习</div>
					</div>
				</li>
			</ul>
			<ul class="list-unstyled list-inline lis" id="lis3">
				<li  class="text-center well" style="height:50px;">
				   <div id="增加硬件空间3" style="position:absolute;left:140px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 增加硬件空间</div>
					</div>
				</li>
				<li  class="text-center well" style="height:50px;">
				   <div id="增加绿色空间 3" style="position:absolute;left:280px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 增加绿色空间</div>
					</div>
				</li>
				<li class="text-center well" style="height:50px;">
				  <div id="增加设施" style="position:absolute;left:420px;top:144px"
				    onMouseDown="dragImage2(this)">
					<img  class="dragImg" src="imgs/icon1.png">
					<div>增加设施 <input id="inputText" type="text" style="width:40px;"></input></div>
				  </div>
				</li>
				<li class="text-center well" style="height:50px;">
				   <div id="改善公共交通3" style="position:absolute;left:560px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 改善公共交通</div>
					</div>
				</li>
				<li class="text-center well" style="height:50px;">
				   <div id="改善步行系统3" style="position:absolute;left:700px;top:144px"
				    onMouseDown="dragImage(this)">
				    <img  class="dragImg" src="imgs/icon1.png" >
					<div> 改善步行系统</div>
					</div>
				</li>
			</ul>
			</div>
				<img src="/imgs/和平公园.png" class="img-rounded img-responsive">
			</div>
		</div>
	</div>
</div>